{% extends 'base.html'%}
{% block content %}
{% load  item_filter %}
{% load static %}

<div class="container mt-4">
    <h2>Welcome back {{ user_name}}</h2>
    <div class="row d-flex justify-content-between">
        <div class="col-sm-4 pt-3">
            <img src="https://devtalk.blender.org/uploads/default/original/2X/c/cbd0b1a6345a44b58dda0f6a355eb39ce4e8a56a.png" class='order-img' alt="user image goe here">
        </div>
        <div class="col-sm-8">
            <div class="userDetail border p-3 my-3">
                <h5><b>My Addresses</b></h5>
                {% for item in user_address %}
                <div><b class="text-capitalize">{{ item.name }}</b></div>
                <ul class='d-flex'>
                    <li>{{ item.first_name }} {{ item.last_name }}, {{ item.address }}, {{ item.city }} {{ item.state }} {{ item.zip }}</li>
                </ul>
                <hr>
                {% endfor %}
                <div class="btn btn-yellow my-2" id="add-address-btn">Add address</div>
                <div class="hide-form">
                    <div id='addressForm' class='address-form form-collapse mb-3'>
                        <form action="">
                            <!-- single form  row -->

                            <h5 class='text-danger' id='addressFormError'>Invalid Information</h5>
                            <!-- end form row -->
                            <!-- single form  row -->
                            <div class="form-row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="fname">First Name</label>
                                        <input type="text" class="form-control" id="fname" placeholder="first name">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="lname">Last Name</label>
                                        <input type="text" class="form-control" id="lname" placeholder="last name">
                                    </div>
                                </div>
                            </div>
                            <!-- end form row -->
                            <div class="form-row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="address">Address</label>
                                        <input type="text" class="form-control" id="address" placeholder="123 Main St">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="city">City</label>
                                        <input type="text" class="form-control" id="city" placeholder="City">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="col-6 col-md-3">
                                        <div class="form-group">
                                            <label for="state">State</label>
                                            <input type="text" class="form-control" id="state" placeholder="CA">
                                        </div>
                                    </div>
                                    <div class="col-6 col-md-3">
                                        <div class="form-group">
                                            <label for="zip">ZIP</label>
                                            <input type="text" class="form-control" id="zip" placeholder="90844">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="btn btn-yellow" id='addAddress'>Submit</div>

                            <!-- end row -->
                        </form>
                        <!-- end shipping info form -->
                    </div>
                </div>
            <!-- end add payment detail -->
        </div>
        </div>
    </div>
    <!-- end of 2 columns  -->
    <!-- past orders go here -->
    <h4><b>Your Orders</b></h4>
    {% for order in user_order%}
    <div class="card mb-3">
        <div class="card-header p-2">
            <div class="row d-flex justify-content-between">
                    <ul class="col-sm-6">
                        <li>ORDER PLACED</li>
                        <li>{{order.date_created}}</li>
                    </ul>
                    <ul class="col-sm-6">
                        <li>SHIP TO</li>
                        <LI>{{order.address}}</LI>
                    </ul>
            </div>
        </div>
        <div class="p-3">
            <h5> {{order.status}}</h5>
            <div class="row">
                <div class="col-sm-4">
                    <img src="{% static order.order_item.picture %}" alt="" class="order-img">                    
                </div>
                <div class="col-sm-4">
                    <a href="/store/item{{order.id}}" class="item-name-carousel">{{order.order_item.title}}</a>
                </div>
                <div class="col-sm-4">
                    <ul class="d-flex">
                        quantity: {{order.quantity}}</>
                    </ul>
                </div>
            </div>

        </div>
    </div>
    {% endfor%} 
</div>


{% endblock %}